local augroup = vim.api.nvim_create_augroup
local autocmd = vim.api.nvim_create_autocmd
local yank_group = augroup('HighlightYank', {})

vim.g.loaded_netrw = 1
vim.g.loaded_netrwPlugin = 1

autocmd('TextYankPost', {
    group = yank_group,
    pattern = '*',
    desc = 'Hightlight selection on yank',
    callback = function()
        vim.highlight.on_yank({
            higroup = 'IncSearch',
            timeout = 50,
        })
    end,
})

-- Enter insert mode when switching to terminal
autocmd('TermOpen', {
    command = 'setlocal listchars= nonumber norelativenumber nocursorline',
  })

autocmd('TermOpen', {
    pattern = '',
    command = 'startinsert'
})

  -- Close terminal buffer on process exit
autocmd('BufLeave', {
    pattern = 'term://*',
    command = 'stopinsert'
  })